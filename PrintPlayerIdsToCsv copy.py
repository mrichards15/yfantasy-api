import requests
import json
import csv


team = [
"Connor McDavid",
"Johnny Gaudreau",
"Jonathan Huberdeau",
"Leon Draisaitl",
"Kirill Kaprizov",
"Auston Matthews",
"Steven Stamkos",
"Matthew Tkachuk",
"J.T. Miller",
"Mitchell Marner",
"Roman Josi",
"Artemi Panarin",
"Kyle Connor",
"Patrick Kane",
"Mikko Rantanen",
"Alex Ovechkin",
"Aleksander Barkov",
"Nathan MacKinnon",
"Nazem Kadri",
"Matt Duchene",
"Cale Makar",
"Kevin Fiala",
"Victor Hedman",
"Sidney Crosby",
"Filip Forsberg",
"Jake Guentzel",
"Elias Lindholm",
"Sam Reinhart",
"Vladimir Tarasenko",
"Sebastian Aho",
"Joe Pavelski",
"Mika Zibanejad",
"Brad Marchand",
"William Nylander",
"Jason Robertson",
"Mats Zuccarello",
"Alex DeBrincat",
"Evgeny Kuznetsov",
"Chris Kreider",
"David Pastrnak",
"Robert Thomas",
"Pavel Buchnevich",
"Timo Meier",
"John Tavares",
"Jordan Kyrou",
"Adam Fox",
"Jesper Bratt",
"Roope Hintz",
"John Carlson",
"Mark Scheifele",
"Nikita Kucherov",
"Dylan Larkin",
"Andrei Svechnikov",
"Quinn Hughes",
"Kris Letang",
"Elias Pettersson",
"Morgan Rielly",
"Tage Thompson",
"Anze Kopitar",
"Troy Terry",
"Brady Tkachuk",
"Jonathan Marchessault",
"Patrice Bergeron",
"Claude Giroux",
"Ryan Hartman",
"Teuvo Teravainen",
"Mikael Granlund",
"Tomas Hertl",
"Chandler Stephenson",
"Michael Bunting",
"Ryan Johansen",
"Clayton Keller",
"Jeff Skinner",
"Tyler Bertuzzi",
"Jakub Voracek",
"Andre Burakovsky",
"Taylor Hall",
"Nick Suzuki",
"Trevor Zegras",
"Ivan Barbashev",
"Pierre-Luc Dubois",
"Nico Hischier",
"Blake Wheeler",
"Mathew Barzal",
"Alex Killorn",
"Gabriel Landeskog",
"Brock Nelson",
"Nick Schmaltz",
"Anthony Duclair",
"Ryan O'Reilly",
"Brayden Point",
"Bryan Rust",
"Brayden Schenn",
"Tim Stuetzle",
"Oliver Bjorkstrand",
"Aaron Ekblad",
"David Perron",
"Lucas Raymond",
"Devon Toews",
"Logan Couture",
"Jack Hughes",
"Patrik Laine",
"Charlie McAvoy",
"Nikolaj Ehlers",
"Andrew Mangiapane",
"Josh Norris",
"Carter Verhaeghe",
"Brent Burns",
"Zach Hyman",
"Adrian Kempe",
"Ryan Strome",
"Andrew Copp",
"Rasmus Dahlin",
"Gustav Nyquist",
"Conor Garland",
"Bo Horvat",
"Phil Kessel",
"Travis Konecny",
"Valeri Nichushkin",
"Shea Theodore",
"Tom Wilson",
"Phillip Danault",
"Tony DeAngelo",
"Noah Dobson",
"Shayne Gostisbehere",
"Seth Jones",
"Alexander Kerfoot",
"Vincent Trocheck",
"Rasmus Andersson",
"Cam Atkinson",
"Jared McCann",
"Ryan Nugent-Hopkins",
"Moritz Seider",
"Viktor Arvidsson",
"Sam Bennett",
"Joel Eriksson Ek",
"Victor Olofsson",
"Ondrej Palat",
"Brandon Saad",
"Tyler Seguin",
"Tyler Toffoli",
"Yanni Gourde",
"Noah Hanifin",
"Trevor Moore",
"Dylan Strome",
"Zach Werenski",
"Justin Faulk",
"John Klingberg",
"Mason Marchment",
"Jamie Benn",
"Brock Boeser",
"Anders Lee",
"Damon Severson",
"Yegor Sharangovich",
"Jeff Carter",
"Kyle Okposo",
"Jack Roslovic",
"Paul Stastny",
"Josh Bailey",
"Drake Batherson",
"Charlie Coyle",
"Jordan Eberle",
"Frederick Gaudreau",
"Brandon Hagel",
"Erik Haula",
"Boone Jenner",
"Anton Lundell",
"Nino Niederreiter",
"Alex Pietrangelo",
"MacKenzie Weegar",
"Evan Bouchard",
"Cole Caufield",
"Anthony Cirelli",
"Evgenii Dadonov",
"Torey Krug",
"Evan Rodrigues",
"Conor Sheary",
"Jake DeBrusk",
"Marcus Foligno",
"Cam Fowler",
"Adam Henrique",
"Evgeni Malkin",
"Dawson Mercer",
"Jaccob Slavin",
"Tyson Barrie",
"Tanner Jeannot",
"Rickard Rakell",
"Kailer Yamamoto",
"Seth Jarvis",
"Martin Necas",
"Corey Perry",
"Jared Spurgeon",
"Mikael Backlund",
"Alexander Barabanov",
"Matt Boldy",
"Connor Brown",
"Ross Colton",
"Max Domi",
"Evander Kane",
"Jean-Gabriel Pageau",
"Nicolas Roy",
"Brady Skjei",
"Jacob Trouba",
"Thomas Chabot",
"Dylan Cozens",
"Filip Hronek",
"Artturi Lehkonen",
"Mikhail Sergachev",
"Reilly Smith",
"Alex Tuch",
"James van Riemsdyk",
"Gustav Forsling",
"Ryan Getzlaf",
"Alex Iafallo",
"Brandon Montour",
"Josh Morrissey",
"Max Pacioretty",
"Rem Pitlick",
"Jonathan Toews",
"Alexander Wennberg",
"Miro Heiskanen",
"Jesse Puljujarvi",
"Craig Smith",
"Jordan Staal",
"Pius Suter",
"Pavel Zacha",
"Travis Boyd",
"Vince Dunn",
"Pierre Engvall",
"Mark Giordano",
"Mike Hoffman",
"Andreas Johnsson",
"Erik Karlsson",
"William Karlsson",
"Darnell Nurse",
"Dmitry Orlov",
"Colton Parayko",
"Zach Parise",
"Kevin Shattenkirk",
"Anthony Beauvillier",
"Lawson Crouse",
"Joel Farabee",
"Jesper Fast",
"Sonny Milano",
"Tanner Pearson",
"Neal Pionk",
"Blake Coleman",
"J.T. Compher",
"Christian Dvorak",
"Vladislav Gavrikov",
"Barclay Goodrow",
"Danton Heinen",
"Alex Newhook",
"Kyle Palmieri",
"Josh Anderson",
"Jamie Drysdale",
"Dillon Dube",
"Alex Formenton",
"Kasperi Kapanen",
"Dominik Kubal√≠k",
"Ilya Mikheyev",
"Nick Paul",
"Nate Schmidt",
"Ryan Suter",
"Philip Tomasino",
"Frank Vatrano",
"Nicklas Backstrom",
"Ryan Donato",
"Drew Doughty",
"Mattias Ekholm",
"Lars Eller",
"Sam Gagner",
"Denis Gurianov",
"Kevin Hayes",
"Oliver Kylington",
"Alexis Lafreniere",
"Mike Matheson",
"Ivan Provorov",
"Travis Sanheim",
"Cole Sillinger",
"Jonas Brodin",
"Alexandre Carrier",
"Robby Fabbri",
"Alex Goligoski",
"Dougie Hamilton",
"Calle Jarnkrok",
"Mathieu Joseph",
"Sean Kuraly",
"Scott Laughton",
"Vladislav Namestnikov",
"Mark Stone",
"Tomas Tatar",
"Oliver Ekman-Larsson",
"Jake Evans",
"Derek Grant",
"Marcus Johansson",
"Jesperi Kotkaniemi",
"Isac Lundestrom",
"Teddy Blueger",
"T.J. Brodie",
"Dustin Brown",
"Cody Ceci",
"Samuel Girard",
"Ryan Graves",
"Patric Hornqvist",
"Adam Pelech",
"Brett Pesce",
"Colton Sissons",
"Chris Tanev",
"Rasmus Asplund",
"Matt Dumba",
"Sean Durzi",
"Jordan Greenway",
"Arthur Kaliyev",
"Ondrej Kase",
"Hampus Lindholm",
"Pat Maroon",
"Jeff Petry",
"Michael Rasmussen",
"Eric Robinson",
"Chris Wideman",
"Nick Bonino",
"Ben Chiarot",
"Kirby Dach",
"Warren Foegele",
"Garnet Hathaway",
"David Kampf",
"Oskar Lindblom",
"Eetu Luostarinen",
"Ryan McDonagh",
"Vasily Podkolzin",
"Jake Bean",
"Jack Eichel",
"Vinnie Hinostroza",
"Mattias Janmark",
"Erik Johnson",
"Adam Larsson",
"Esa Lindell",
"John Marino",
"T.J. Oshie",
"Jason Spezza",
"Nic Dowd",
"Tyler Ennis",
"Dante Fabbro",
"Brendan Gallagher",
"Matt Grzelcyk",
"Barrett Hayton",
"Keegan Kolesar",
"Dmitry Kulikov",
"Nick Leddy",
"Blake Lizotte",
"Logan O'Connor",
"Yakov Trenin",
"Oliver Wahlstrom",
"Filip Zadina",
"Nicolas Aube-Kubel",
"Rudolfs Balcers",
"Jesper Boqvist",
"Noah Gregor",
"Justin Holl",
"Timothy Liljegren",
"Anthony Mantha",
"Sean Monahan",
"Nick Ritchie",
"Justin Schultz",
"Jaden Schwartz",
"Anton Stralman",
"Oskar Sundqvist",
"Eeli Tolvanen",
"Adam Boqvist",
"Alex Chiasson",
"Filip Chytil",
"Nick Cousins",
"Jonathan Dahlen",
"Joonas Donskoi",
"Morgan Geekie",
"Peyton Krebs",
"Luke Kunin",
"Jake McCabe",
"Brock McGinn",
"Taylor Raddysh",
"Alexander Radulov",
"Derek Ryan",
"P.K. Subban",
"Nikita Zadorov",
"Artem Zub",
"Mason Appleton",
"Brian Boyle",
"Jakob Chychrun",
"Alex Galchenyuk",
"Nick Jensen",
"Duncan Keith",
"Brett Kulak",
"Philipp Kurashev",
"Johan Larsson",
"Adam Lowry",
"Milan Lucic",
"Ryan McLeod",
"Ryan Pulock",
"Victor Rask",
"Matt Roy",
"Zach Sanford",
"Jakob Silfverberg",
"Carson Soucy",
"Owen Tippett",
"Pierre-Edouard Bellemare",
"Colin Blackwell",
"William Carrier",
"Brenden Dillon",
"Jonathan Drouin",
"Brett Howden",
"Tyson Jost",
"Michael McLeod",
"Jonathon Merrill",
"K'Andre Miller",
"Ty Smith",
"Daniel Sprong",
"Sam Steel",
"Nico Sturm",
"Alexandre Texier",
"Kieffer Bellows",
"Derick Brassard",
"Sam Carrick",
"Ian Cole",
"Alexander Edler",
"Loui Eriksson",
"Adam Erne",
"Radek Faksa",
"Nick Holden",
"Henri Jokiharju",
"Zack Kassian",
"Casey Mittelstadt",
"Marcus Pettersson",
"Derek Stepan",
"Evgeny Svechnikov",
"Jakub Vrana",
"Zach Whitecloud",
"Keith Yandle",
"Michael Amadio",
"Nathan Bastian",
"Justin Braun",
"Brian Dumoulin",
"Trent Frederic",
"Zemgus Girgensons",
"Erik Gustafsson",
"Nils Hoglander",
"Kaapo Kakko",
"Ryan Lomberg",
"Scott Mayfield",
"Connor McMichael",
"Brayden McNabb",
"Tyler Myers",
"Jan Rutta",
"Chris Tierney",
"Andreas Athanasiou",
"Bowen Byram",
"Sean Couturier",
"Brandon Duhaime",
"Martin Fehervary",
"Erik Gudbranson",
"Brad Hunt",
"Dryden Hunt",
"Janne Kuokkanen",
"Matthew Nieto",
"Tomas Nosek",
"Jamie Oleksiak",
"Jacob Peterson",
"Ryan Poehling",
"Mike Reilly",
"David Savard",
"Luke Schenn",
"Riley Sheahan",
"Trevor van Riemsdyk",
"Jason Zucker",
"Casey Cizikas",
"Andrew Cogliano",
"Max Comtois",
"Morgan Frost",
"Luke Glendening",
"Radko Gudas",
"Curtis Lazar",
"Trevor Lewis",
"Josh Manson",
"Michael Raffl",
"Rasmus Ristolainen",
"Rasmus Sandin",
"Wayne Simmonds",
"Marc Staal",
"Austin Watson",
"Zach Aston-Reese",
"Brandon Carlo",
"Cal Clutterbuck",
"Carl Grundstrom",
"Darren Helm",
"Caleb Jones",
"Juho Lammikko",
"Ryan Lindgren",
"Ilya Lyubushkin",
"Jordan Martinook",
"Jake Allen",
"Hugo Alnefelt",
"Frederik Andersen",
"Craig Anderson",
"Justus Annunen",
"Jonathan Bernier",
"Jean-Francois Berube",
"Jordan Binnington",
"MacKenzie Blackwood",
"Sergei Bobrovsky",
"Laurent Brossoit",
"Jack Campbell",
"Eric Comrie",
"Pheonix Copley",
"Joey Daccord",
"Nico Daws",
"Collin Delia",
"Aaron Dell",
"Thatcher Demko",
"Casey DeSmith",
"Michael Dipietro",
"Louis Domingue",
"Lukas Dostal",
"Chris Driedger",
"Brian Elliott",
"Marc-Andre Fleury",
"Marc-Andre Fleury",
"Marc-Andre Fleury",
"Anton Forsberg",
"Pavel Francouz",
"Zachary Fucale",
"Alexandar Georgiev",
"John Gibson",
"Jon Gillies",
"Jon Gillies",
"Jon Gillies",
"Thomas Greiss",
"Philipp Grubauer",
"Filip Gustavsson",
"Jaroslav Halak",
"Andrew Hammond",
"Andrew Hammond",
"Andrew Hammond",
"Carter Hart",
"Magnus Hellberg",
"Connor Hellebuyck",
"Adin Hill",
"Thomas Hodges",
"Joel Hofer",
"Braden Holtby",
"Michael Houser",
"Adam Huska",
"Ville Husso",
"Michael Hutchinson",
"Carter Hutton",
"Connor Ingram",
"Tristan Jarry",
"Jonas Johansson",
"Jonas Johansson",
"Jonas Johansson",
"Martin Jones",
"Kaapo Kahkonen",
"Kaapo Kahkonen",
"Kaapo Kahkonen",
"Erik Kallgren",
"Anton Khudobin",
"Keith Kinkaid",
"Spencer Knight",
"Pyotr Kochetkov",
"Josef Korenar",
"Joonas Korpisalo",
"Mikko Koskinen",
"Darcy Kuemper",
"Jack LaFontaine",
"Maxime Lagace",
"Kevin Lankinen",
"Robin Lehner",
"Charlie Lindgren",
"Ukko-Pekka Luukkonen",
"Alex Lyon",
"Jacob Markstrom",
"Spencer Martin",
"Michael McNiven",
"Elvis Merzlikins",
"Sam Montembeault",
"Petr Mrazek",
"Matt Murray",
"Alex Nedeljkovic",
"Jake Oettinger",
"Cal Petersen",
"Calvin Pickard",
"Carey Price",
"Cayden Primeau",
"Ivan Prosvetov",
"Jonathan Quick",
"Antti Raanta",
"Tuukka Rask",
"James Reimer",
"David Rittich",
"Ilya Samsonov",
"Felix Sandstrom",
"Juuse Saros",
"Harri Sateri",
"Zachary Sawchenko",
"Akira Schmid",
"Cory Schneider",
"Igor Shesterkin",
"Stuart Skinner",
"Mike Smith",
"Arvid Soderblom",
"Mads Sogaard",
"Ilya Sorokin",
"Garret Sparks",
"Alex Stalock",
"Anthony Stolarz",
"Malcolm Subban",
"Jeremy Swayman",
"Cam Talbot",
"Daniil Tarasov",
"Logan Thompson",
"Dustin Tokarski",
"Linus Ullmark",
"Vitek Vanecek",
"Semyon Varlamov",
"Andrei Vasilevskiy",
"Karel Vejmelka",
"Daniel Vladar",
"Scott Wedgewood",
"Scott Wedgewood",
"Scott Wedgewood",
"Scott Wedgewood",
"Joseph Woll"
]

outfile = open('./rankings/PlayerIds.csv','w')
writer=csv.writer(outfile)
writer.writerow(['Player', 'Id'])

player_name = ""
player_age = 18
player_team = ""
player_num_results = ""

for player in team:
    try:
        response = requests.get("https://suggest.svc.nhl.com/svc/suggest/v1/minplayers/" + player + "/3")
        json_result = json.loads(response.text)
        player_data = json_result["suggestions"][0]
        player_id = player_data.split('|')[0]
        playerRow = [player, player_id]
        writer.writerow(playerRow)
        print(f'{player} - {player_id} just processed')
    except:
        playerRow = [player, "NOT FOUND"]
        writer.writerow(playerRow)
        print(f'****** ERROR GETTING {player} ******')
    

#response = requests.get("https://suggest.svc.nhl.com/svc/suggest/v1/minplayers/" + player_name + "/3")
#json_result = json.loads(response.text)
#player_data = json_result["suggestions"][0]
#player_id = player_data.split('|')[0]

#response = requests.get("https://statsapi.web.nhl.com/api/v1/people/" + player_id + "/stats?stats=statsSingleSeason&season=20222023")



#test = '{ "copyright" : "NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. ¬© NHL 2022. All Rights Reserved.",  "stats" : [ {    "type" : {      "displayName" : "statsSingleSeason",      "gameType" : {        "id" : "R",        "description" : "Regular season",        "postseason" : false      }    },    "splits" : [ {      "season" : "20222023",      "stat" : {        "timeOnIce" : "266:16",        "assists" : 13,        "goals" : 12,        "pim" : 4,        "shots" : 47,        "games" : 12,        "hits" : 12,        "powerPlayGoals" : 6,        "powerPlayPoints" : 12,        "powerPlayTimeOnIce" : "55:14",        "evenTimeOnIce" : "204:35",        "penaltyMinutes" : "4",        "faceOffPct" : 55.73,        "shotPct" : 25.5,        "gameWinningGoals" : 2,        "overTimeGoals" : 0,        "shortHandedGoals" : 0,        "shortHandedPoints" : 0      }    } ]  } ]}'
#json_result = json.loads(response.text)
#print(json_result["stats"][0]["splits"][0]["stat"]["games"])